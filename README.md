# GodCheck 无敌检查插件

- 作者: 羽学
- 出处: 无
- 这是一个Tshock服务器插件，主要用于：对玩家无敌检查，并对其生命受伤状态监控是否合理作出自定义处罚。

## 更新日志

```
v1.0.0
对GK的《阻止玩家无敌》插件进行重构
自定义惩罚方法,4种惩罚方法只能开一个
自定义封禁时长，过时自动解封。
检测玩家受伤与血量是否合理
检测玩家接近BOSS范围内是否处于无敌
本插件分3个进程级，0和1级是检测玩家是否无敌，2级是检测玩家受伤/血量溢出/BOSS战期间是否无敌
当玩家生成、BOSS出现时都会检测一遍是否无敌（也就是进程0）
加入了对负血量的条件判断
```

## 指令

| 语法                             | 别名  |       权限       |                   说明                   |
| -------------------------------- | :---: | :--------------: | :--------------------------------------: |
| /reload  | 无 |   tshock.cfg.reload    |    重载配置文件    |
| 无  | 无 |   GodCheck    |    免疫检查权限    |

## 配置
> 配置文件位置：tshock/无敌检测.json
```json
{
  "插件主要开关": true, //控制开启关闭插件
  "打击玩家Buff": 39, //用于检测玩家是否无敌用，无击退，进程0与进程1用
  "打击玩家间隔": 1.5, //进程0的触发间隔，单位为秒
  "玩家杀怪间隔": 300.0, //杀怪超过5分钟会自动检一次
  "BOSS期检间隔": 15.0, //当玩家处于进程2时，在boss活着的期限，过了这个时间就会检测
  "接近BOSS范围": 30.0, //配合上面配置项用的，判断玩家与BOSS之间的距离来决定是否回到进程0
  "检测玩家防御": true, //就是检查玩家受到的伤害 用于给进程2判断
  "监控玩家受伤": false, //一般不用开，它只是拿来看真实伤害的，作弊者的伤害报数不准确，不能作为参考。
  "最大报伤数值": 25, //当玩家受到来自BOSS或弹幕的全部伤害-防御-免伤值，真实伤害少于25点则开始播报，配合上面这个配置项过滤播报信息用的。
  "监控玩家血量": true, //播报玩家血量的实际动态，其中`预期生命`为记录生命-真实伤害，当前生命>记录生命则违规数加1，反之减1，达到【违规次数开罚】时，进入触发
  "真实伤害减免": 0.7, //这个是真实伤害里的免伤值，取70%泰拉瑞亚最大免伤计算，比如100点伤害-20防御-（100 * 70%）=得到的就是真实伤害
  "低于真伤不判": 20, //用于过滤真实伤害中小型弹幕用的，一般玩家受到的真伤都会超过20点，作弊者改了防御后如果受到1点，它也参考不了一点。
  "检查血量溢出": false, //GK原有方法，血量超过上限直接处罚
  "检查血量上限": false, //GK原有方法，我加了个是否使用物品的前提下再去判断：100血以上400血内检测血量是否20、40点生命增长，400血以上是否以5、10点生命增长
  "踢出玩家": false, //惩罚方法之一，一般没啥用，轻度惩罚
  "违规次数开罚": 2, //触发处罚方法的条件
  "封禁玩家": true, //惩罚方法之一，可根据下面的【封禁时长】控制多久解封，同时会封acc ip uuid，封禁后会把id号发到控制台或者./thsock/logs文件夹下的日志文件里
  "封禁时长": 10, //配合上面这个配置项使用的，单位为分钟，10分钟则自动解封，避免误判
  "传送玩家": false, //惩罚方法之一，配合下面的【传送坐标】用，将作弊者传到地狱左下角
  "传送坐标": {
    "X": 0,  //横向坐标，就是左右海，大地图为8400,中地图6200，小地图4200
    "Y": 2400 //纵向坐标，就是太空到地狱
  },
  "施加BUFF": {
    "156": 3600, //惩罚方法之一，其中【156】是BUFF的ID，3600是BUFF的时长，单位为帧（60帧为1秒）
    "122": 240
  } //4种惩罚方法只能开一个
}
```
## 反馈
- 优先发issued -> 共同维护的插件库：https://github.com/UnrealMultiple/TShockPlugin
- 次优先：TShock官方群：816771079
- 大概率看不到但是也可以：国内社区trhub.cn ，bbstr.net , tr.monika.love